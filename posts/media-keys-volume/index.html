<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Volume keys in DWM | n4ku1</title>
<meta name="keywords" content="Arch">
<meta name="description" content="How I configured volume keys in DWM">
<meta name="author" content="Me">
<link rel="canonical" href="https://nakul.tech/posts/media-keys-volume/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css" integrity="sha256-j&#43;ECM6cGvIfy4Is8&#43;XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://nakul.tech/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://nakul.tech/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://nakul.tech/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://nakul.tech/apple-touch-icon.png">
<link rel="mask-icon" href="https://nakul.tech/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://nakul.tech/posts/media-keys-volume/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://nakul.tech/posts/media-keys-volume/">
  <meta property="og:site_name" content="n4ku1">
  <meta property="og:title" content="Volume keys in DWM">
  <meta property="og:description" content="How I configured volume keys in DWM">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-09-02T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-09-02T00:00:00+00:00">
    <meta property="article:tag" content="Arch">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Volume keys in DWM">
<meta name="twitter:description" content="How I configured volume keys in DWM">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://nakul.tech/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Volume keys in DWM",
      "item": "https://nakul.tech/posts/media-keys-volume/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Volume keys in DWM",
  "name": "Volume keys in DWM",
  "description": "How I configured volume keys in DWM",
  "keywords": [
    "Arch"
  ],
  "articleBody": "I had earlier solved this issue in my previous arch DWM build but that was somehow broken; so had to configure this again. Considering it was such a pain I thought of sharing my own approach.\nI wrote a small script that changes the volume based on the parameters passed via DWM, once the volume is changed a notification is sent via dunst.\nIdentifying Keys You first need to identify which keys toggle the volume, what is their assigned tag.\nIt can be easily done by using the following command:\nxev | awk -F'[ )]+' '/^KeyPress/ { a[NR+2] } NR in a { printf \"%-3s %s\\n\", $5, $8 }' In my case they were:\nXF86_AudioRaiseVolume XF86_AudioLowerVolume XF86_AudioMute Script The following script volstat to be created and added to path like /usr/local/bin/\n#!/bin/bash pamixer -$1 $2 # Below for showing volume level(numeric), its stacks # notify-send -t 1000 \"Volume is: $(pamixer --get-volume)\" # Progress bar dunstify -t 1000 \"Volume: \" -h int:value:\"`pamixer --get-volume`\" DWM config changes Include this package #include in config.h also add the following lines:\n/* volume keys */ static const char *upvol[] = {\"volstat\", \"i\", \"5\", NULL}; static const char *downvol[] = {\"volstat\", \"d\", \"5\", NULL}; static const char *toggle[] = {\"pamixer\", \"-t\", NULL}; //for muting /* add in static const Key keys[] = {..} */ { 0, XF86XK_AudioRaiseVolume, spawn, {.v = upvol} }, { 0, XF86XK_AudioLowerVolume, spawn, {.v = downvol} }, { 0, XF86XK_AudioMute, spawn, {.v = toggle} }, The key name might differ according to your device\nDo sudo make clean install and also add dunst \u0026 to your .xinitrc file.\nI didnt configure for mute keypress as visual feedback for that via led, was already present on my keyboard, but it can be done in a similar fashion.\nDemo ",
  "wordCount" : "295",
  "inLanguage": "en",
  "datePublished": "2025-09-02T00:00:00Z",
  "dateModified": "2025-09-02T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Me"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://nakul.tech/posts/media-keys-volume/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "n4ku1",
    "logo": {
      "@type": "ImageObject",
      "url": "https://nakul.tech/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://nakul.tech/" accesskey="h" title="n4ku1 (Alt + H)">n4ku1</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://nakul.tech/archives/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://nakul.tech/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://nakul.tech/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Volume keys in DWM
    </h1>
    <div class="post-description">
      How I configured volume keys in DWM
    </div>
    <div class="post-meta"><span title='2025-09-02 00:00:00 +0000 UTC'>September 2, 2025</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;295 words&nbsp;·&nbsp;Me

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><nav id="TableOfContents">
  <ul>
    <li><a href="#identifying-keys">Identifying Keys</a></li>
    <li><a href="#script">Script</a></li>
    <li><a href="#dwm-config-changes">DWM config changes</a></li>
    <li><a href="#demo">Demo</a></li>
  </ul>
</nav>
        </div>
    </details>
</div>

  <div class="post-content"><p>I had earlier solved this issue in my previous arch DWM build but that was somehow broken; so had to configure this again. Considering it was such a pain I thought of sharing my own approach.</p>
<p>I wrote a small script that changes the volume based on the parameters passed via DWM, once the volume is changed a notification is sent via <a href="https://wiki.archlinux.org/title/Dunst">dunst</a>.</p>
<h2 id="identifying-keys">Identifying Keys<a hidden class="anchor" aria-hidden="true" href="#identifying-keys">#</a></h2>
<p>You first need to identify which keys toggle the volume, what is their assigned tag.</p>
<p>It can be easily done by using the following command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>xev | awk -F<span style="color:#e6db74">&#39;[ )]+&#39;</span> <span style="color:#e6db74">&#39;/^KeyPress/ { a[NR+2] } NR in a { printf &#34;%-3s %s\n&#34;, $5, $8 }&#39;</span>
</span></span></code></pre></div><p>In my case they were:</p>
<pre tabindex="0"><code>XF86_AudioRaiseVolume
XF86_AudioLowerVolume
XF86_AudioMute
</code></pre><h2 id="script">Script<a hidden class="anchor" aria-hidden="true" href="#script">#</a></h2>
<p>The following script <code>volstat</code> to be created and added to path like <code>/usr/local/bin/</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>pamixer -$1 $2
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Below for showing volume level(numeric), its stacks</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># notify-send -t 1000 &#34;Volume is: $(pamixer --get-volume)&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Progress bar</span>
</span></span><span style="display:flex;"><span>dunstify -t <span style="color:#ae81ff">1000</span> <span style="color:#e6db74">&#34;Volume: &#34;</span> -h int:value:<span style="color:#e6db74">&#34;`pamixer --get-volume`&#34;</span>
</span></span></code></pre></div><h2 id="dwm-config-changes">DWM config changes<a hidden class="anchor" aria-hidden="true" href="#dwm-config-changes">#</a></h2>
<p>Include this package <code>#include &lt;X11/XF86keysym.h&gt;</code> in <code>config.h</code> also add the following lines:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">/* volume keys */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>upvol[] <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;volstat&#34;</span>, <span style="color:#e6db74">&#34;i&#34;</span>, <span style="color:#e6db74">&#34;5&#34;</span>, NULL};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>downvol[] <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;volstat&#34;</span>, <span style="color:#e6db74">&#34;d&#34;</span>, <span style="color:#e6db74">&#34;5&#34;</span>, NULL};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>toggle[] <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;pamixer&#34;</span>, <span style="color:#e6db74">&#34;-t&#34;</span>, NULL}; <span style="color:#75715e">//for muting
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* add in static const Key keys[] = {..} */</span>
</span></span><span style="display:flex;"><span>{ <span style="color:#ae81ff">0</span>,    XF86XK_AudioRaiseVolume,     spawn,     {.v <span style="color:#f92672">=</span> upvol} },
</span></span><span style="display:flex;"><span>{ <span style="color:#ae81ff">0</span>,    XF86XK_AudioLowerVolume,     spawn,     {.v <span style="color:#f92672">=</span> downvol} },
</span></span><span style="display:flex;"><span>{ <span style="color:#ae81ff">0</span>,    XF86XK_AudioMute,            spawn,     {.v <span style="color:#f92672">=</span> toggle} },
</span></span></code></pre></div><blockquote>
<p>The key name might differ according to your device</p></blockquote>
<p>Do <code>sudo make clean install</code> and also add <code>dunst &amp;</code> to your <code>.xinitrc</code> file.</p>
<p>I didnt configure for mute keypress as visual feedback for that via led, was already present on my keyboard, but it can be done in a similar fashion.</p>
<h2 id="demo">Demo<a hidden class="anchor" aria-hidden="true" href="#demo">#</a></h2>
<p><img alt="demo" loading="lazy" src="/images/volstat.gif"></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://nakul.tech/tags/arch/">Arch</a></li>
    </ul>
<nav class="paginav">
  <a class="next" href="https://nakul.tech/posts/hello-world/">
    <span class="title">Next »</span>
    <br>
    <span>Hello World!</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://nakul.tech/">n4ku1</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
